import { Meta, Canvas } from '@storybook/addon-docs/blocks';
import * as ProductCardStories from './ProductCard.stories';

<Meta of={ProductCardStories} name="Code Examples" />

# ProductCard Code Examples

This document provides comprehensive code examples for using the ProductCard component in various scenarios.

## Basic Usage

### Minimal Product Card

<Canvas of={ProductCardStories.Basic} />

```tsx
import ProductCard from '@/components/product-card';

function BasicExample() {
  return (
    <ProductCard
      itemId="norman-chair-basic"
      itemVariationId="norman-chair-basic-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
    />
  );
}
```

### Product Card with Price

<Canvas of={ProductCardStories.WithPrice} />

```tsx
import ProductCard from '@/components/product-card';

function WithPriceExample() {
  return (
    <ProductCard
      itemId="norman-chair-with-price"
      itemVariationId="norman-chair-with-price-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      itemPriceCurrency="$"
    />
  );
}
```

### Product Card with Sale Price

<Canvas of={ProductCardStories.WithSalePrice} />

```tsx
import ProductCard from '@/components/product-card';

function SalePriceExample() {
  return (
    <ProductCard
      itemId="norman-chair-sale"
      itemVariationId="norman-chair-sale-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="399"
      itemSalePrice="299"
      itemPriceCurrency="$"
    />
  );
}
```

### Product Card with Rating and Reviews

<Canvas of={ProductCardStories.WithRatingAndReviews} />

```tsx
import ProductCard from '@/components/product-card';

function RatingExample() {
  return (
    <ProductCard
      itemId="norman-chair-reviews"
      itemVariationId="norman-chair-reviews-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      itemRating={4.8}
      itemReviewsCount={2713}
    />
  );
}
```

### Product Card with Description

<Canvas of={ProductCardStories.WithDescription} />

```tsx
import ProductCard from '@/components/product-card';

function DescriptionExample() {
  return (
    <ProductCard
      itemId="norman-chair-description"
      itemVariationId="norman-chair-description-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      itemDescription="A comfortable and stylish chair perfect for any modern home"
    />
  );
}
```

### Product Card with Tags

<Canvas of={ProductCardStories.WithTags} />

```tsx
import ProductCard from '@/components/product-card';

function TagsExample() {
  return (
    <ProductCard
      itemId="norman-chair-tags"
      itemVariationId="norman-chair-tags-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      itemTags={['Same day delivery', 'Free shipping']}
    />
  );
}
```

## Interactive Features

### Product Card with Add to Cart

<Canvas of={ProductCardStories.WithAddToCart} />

```tsx
import ProductCard from '@/components/product-card';

function AddToCartExample() {
  const handleAddToCart = (e) => {
    console.log('Added to cart', e);
    // Add your cart logic here
  };

  return (
    <ProductCard
      itemId="norman-chair-cart"
      itemVariationId="norman-chair-cart-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      onAddToCart={handleAddToCart}
    />
  );
}
```

### Product Card with Wishlist

<Canvas of={ProductCardStories.WithWishlist} />

```tsx
import ProductCard from '@/components/product-card';

function WishlistExample() {
  const handleAddToWishlist = (e) => {
    console.log('Added to wishlist', e);
    // Add your wishlist logic here
  };

  return (
    <ProductCard
      itemId="norman-chair-wishlist"
      itemVariationId="norman-chair-wishlist-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      onAddToWishlist={handleAddToWishlist}
    />
  );
}
```

### Product Card with Custom Add to Cart Text

<Canvas of={ProductCardStories.CustomAddToCartText} />

```tsx
import ProductCard from '@/components/product-card';

function CustomAddToCartTextExample() {
  const handleAddToCart = (e) => {
    console.log('Added to cart', e);
    // Add your cart logic here
  };

  return (
    <ProductCard
      itemId="norman-chair-custom-text"
      itemVariationId="norman-chair-custom-text-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      onAddToCart={handleAddToCart}
      addToCartText="Buy Now"
    />
  );
}
```

### Product Card with Click Handler

```tsx
import ProductCard from '@/components/product-card';
import { useRouter } from 'next/router';

function ClickableExample() {
  const router = useRouter();

  const handleItemClick = () => {
    router.push('/products/norman-chair');
  };

  return (
    <ProductCard
      itemId="clickable-chair"
      itemVariationId="clickable-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="299"
      itemPriceCurrency="$"
      onItemClick={handleItemClick}
    />
  );
}
```

### Product Card with Custom Currency

<Canvas of={ProductCardStories.CustomCurrency} />

```tsx
import ProductCard from '@/components/product-card';

function CustomCurrencyExample() {
  return (
    <ProductCard
      itemId="designer-lamp-eu"
      itemVariationId="designer-lamp-eu-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="150"
      itemSalePrice="120"
      itemPriceCurrency="‚Ç¨"
      itemRating={4.5}
      itemReviewsCount={89}
      onAddToCart={(e) => console.log('Added to cart', e)}
      onAddToWishlist={(e) => console.log('Added to wishlist', e)}
    />
  );
}
```

### Product Card Already in Wishlist

<Canvas of={ProductCardStories.InWishlist} />

```tsx
import ProductCard from '@/components/product-card';

function InWishlistExample() {
  return (
    <ProductCard
      itemId="wishlist-chair"
      itemVariationId="wishlist-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemDescription="A comfortable and stylish chair perfect for any modern home"
      itemPrice="399"
      itemPriceCurrency="$"
      itemRating={4.5}
      itemReviewsCount={156}
      isInWishlist={true}
      onAddToWishlist={(e) => console.log('Removed from wishlist', e)}
      onAddToCart={(e) => console.log('Added to cart', e)}
    />
  );
}
```

## Fully Featured Example

<Canvas of={ProductCardStories.FullyFeatured} />

```tsx
import ProductCard from '@/components/product-card';

function FullyFeaturedExample() {
  const handleAddToCart = (e) => {
    console.log('Added to cart', e);
    // Implement cart logic
  };

  const handleAddToWishlist = (e) => {
    console.log('Added to wishlist', e);
    // Implement wishlist logic
  };

  const handleItemClick = () => {
    console.log('Product clicked');
    // Navigate to product detail page
  };

  return (
    <ProductCard
      itemId="designer-office-chair"
      itemVariationId="designer-office-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemDescription="A comfortable and stylish chair perfect for any modern home"
      itemPrice="899"
      itemSalePrice="699"
      itemPriceCurrency="$"
      itemRating={4.8}
      itemReviewsCount={2713}
      itemTags={['Same day delivery', 'Free assembly', '10-year warranty']}
      onAddToCart={handleAddToCart}
      onAddToWishlist={handleAddToWishlist}
      onItemClick={handleItemClick}
      addToCartText="Add to Cart"
    />
  );
}
```

## Compound Component Pattern

The ProductCard component supports a compound component pattern, allowing you to compose layouts using sub-components without needing to pass renderProps manually. This provides a cleaner, more flexible API for custom layouts.

### Basic Compound Component Usage

<Canvas of={ProductCardStories.CompoundBasic} />

```tsx
import ProductCard from '@/components/product-card';

function CompoundBasicExample() {
  return (
    <ProductCard
      itemId='compound-basic-chair'
      itemVariationId='compound-basic-chair-variation'
      itemName="Norman's Chair"
      itemImageUrl='https://example.com/chair.jpg'
      itemPrice='299'
      itemPriceCurrency='$'
      onAddToCart={(e) => console.log('Added to cart', e)}
      onAddToWishlist={(e) => console.log('Added to wishlist', e)}
    >
      <ProductCard.ImageSection>
        <ProductCard.WishlistButton />
      </ProductCard.ImageSection>
      <ProductCard.Content>
        <ProductCard.PriceSection />
        <ProductCard.TitleSection />
      </ProductCard.Content>
      <ProductCard.Footer>
        <ProductCard.AddToCartButton />
      </ProductCard.Footer>
    </ProductCard>
  );
}
```

### Fully Featured Compound Component

<Canvas of={ProductCardStories.CompoundFullyFeatured} />

```tsx
import ProductCard from '@/components/product-card';

function CompoundFullyFeaturedExample() {
  return (
    <ProductCard
      itemId='compound-full-chair'
      itemVariationId='compound-full-chair-variation'
      itemName="Norman's Chair"
      itemImageUrl='https://example.com/chair.jpg'
      itemDescription='A comfortable and stylish chair perfect for any modern home'
      itemPrice='899'
      itemSalePrice='699'
      itemPriceCurrency='$'
      itemRating={4.8}
      itemReviewsCount={2713}
      itemTags={['Same day delivery', 'Free assembly', '10-year warranty']}
      onItemClick={() => console.log('Product clicked')}
      addToCartText='Add to Cart'
    >
      <ProductCard.ImageSection>
        <ProductCard.WishlistButton onAddToWishlist={(e) => console.log('Added to wishlist', e)} />
      </ProductCard.ImageSection>
      <ProductCard.Content>
        <ProductCard.PriceSection />
        <ProductCard.TitleSection />
        <ProductCard.DescriptionSection />
        <ProductCard.RatingSection />
      </ProductCard.Content>
      <ProductCard.Footer>
        <ProductCard.AddToCartButton onAddToCart={(e) => console.log('Added to cart', e)} />
        <ProductCard.TagsSection />
      </ProductCard.Footer>
    </ProductCard>
  );
}
```

### Custom Layout with Compound Components

<Canvas of={ProductCardStories.CompoundCustomLayout} />

```tsx
import ProductCard from '@/components/product-card';

function CompoundCustomLayoutExample() {
  return (
    <ProductCard
      itemId='compound-custom-chair'
      itemVariationId='compound-custom-chair-variation'
      itemName="Norman's Chair"
      itemImageUrl='https://example.com/chair.jpg'
      itemPrice='599'
      itemSalePrice='449'
      itemPriceCurrency='$'
      itemRating={4.7}
      itemReviewsCount={156}
      itemDescription='A comfortable and stylish chair perfect for any modern home'
      itemTags={['Premium', 'Fast Shipping']}
      onAddToCart={(e) => console.log('Added to cart', e)}
      onAddToWishlist={(e) => console.log('Added to wishlist', e)}
    >
      <ProductCard.ImageSection>
        <ProductCard.WishlistButton />
      </ProductCard.ImageSection>
      <ProductCard.Content>
        {/* Price after title and description */}
        <ProductCard.TitleSection />
        <ProductCard.DescriptionSection />
        <ProductCard.PriceSection />
        <ProductCard.RatingSection />
      </ProductCard.Content>
      <ProductCard.Footer>
        {/* Tags before Add to Cart button */}
        <ProductCard.TagsSection />
        <ProductCard.AddToCartButton />
      </ProductCard.Footer>
    </ProductCard>
  );
}
```

### Grid Layout with Compound Components

<Canvas of={ProductCardStories.CompoundGridLayout} />

```tsx
import ProductCard from '@/components/product-card';

function CompoundGridLayoutExample() {
  return (
    <ProductCard
      itemId='compound-grid-chair'
      itemVariationId='compound-grid-chair-variation'
      itemName="Norman's Chair"
      itemImageUrl='https://example.com/chair.jpg'
      itemPrice='799'
      itemPriceCurrency='$'
      itemRating={4.8}
      itemReviewsCount={203}
      itemDescription='A comfortable and stylish chair perfect for any modern home'
      onAddToCart={(e) => console.log('Added to cart', e)}
      className='overflow-hidden max-w-md'
    >
      <div className='grid grid-cols-2 gap-4 p-4'>
        <ProductCard.ImageSection />
        <div className='space-y-2'>
          <ProductCard.PriceSection />
          <ProductCard.TitleSection />
          <ProductCard.RatingSection />
        </div>
      </div>
      <ProductCard.Footer>
        <ProductCard.AddToCartButton />
      </ProductCard.Footer>
    </ProductCard>
  );
}
```

### Minimal Compound Layout

<Canvas of={ProductCardStories.CompoundMinimal} />

```tsx
import ProductCard from '@/components/product-card';

function CompoundMinimalExample() {
  return (
    <ProductCard
      itemId='compound-minimal-chair'
      itemVariationId='compound-minimal-chair-variation'
      itemName="Norman's Chair"
      itemImageUrl='https://example.com/chair.jpg'
      itemPrice='199'
      itemPriceCurrency='$'
      onAddToCart={(e) => console.log('Added to cart', e)}
    >
      <ProductCard.ImageSection />
      <ProductCard.Content>
        <ProductCard.TitleSection />
      </ProductCard.Content>
      <ProductCard.Footer>
        <ProductCard.AddToCartButton />
      </ProductCard.Footer>
    </ProductCard>
  );
}
```

### Available Compound Components

The following sub-components are available for composition:

- `ProductCard.ImageSection` - Product image with overlay support for badges/buttons
- `ProductCard.Content` - Content wrapper component (replaces CardContent)
- `ProductCard.Footer` - Footer wrapper component (replaces CardFooter)
- `ProductCard.TitleSection` - Product title/name display
- `ProductCard.DescriptionSection` - Product description text
- `ProductCard.PriceSection` - Displays price and sale price
- `ProductCard.RatingSection` - Shows rating stars and review count  
- `ProductCard.TagsSection` - Renders product tags
- `ProductCard.AddToCartButton` - Add to cart button
- `ProductCard.WishlistButton` - Wishlist toggle button

## Custom Rendering with Render Props

### Complete Custom Override

<Canvas of={ProductCardStories.CompleteCustomOverride} />

```tsx
import ProductCard from '@/components/product-card';

function CustomOverrideExample() {
  return (
    <ProductCard
      itemId="custom-chair"
      itemVariationId="custom-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="599"
      itemPriceCurrency="$"
    >
      {(props) => (
        <div className="custom-product-card">
          <div className="custom-image-container">
            <img src={props.itemImageUrl} alt={props.itemName} />
          </div>
          <div className="custom-content">
            <h3>{props.itemName}</h3>
            <p className="custom-price">
              {props.itemPriceCurrency}{props.itemPrice}
            </p>
            <button onClick={(e) => props.onAddToCart && props.onAddToCart(e)}>
              Custom Add to Cart
            </button>
          </div>
        </div>
      )}
    </ProductCard>
  );
}
```

### Compact List Style

<Canvas of={ProductCardStories.CompactListStyle} />

```tsx
import ProductCard from '@/components/product-card';

function CompactListExample() {
  return (
    <ProductCard
      itemId="compact-chair"
      itemVariationId="compact-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="249"
      itemPriceCurrency="$"
    >
      {(props) => (
        <div className="flex items-center space-x-4 p-4 border rounded-lg">
          <img 
            src={props.itemImageUrl} 
            alt={props.itemName}
            className="w-16 h-16 object-cover rounded"
          />
          <div className="flex-1">
            <h4 className="font-medium">{props.itemName}</h4>
            <p className="text-lg font-bold">
              {props.itemPriceCurrency}{props.itemPrice}
            </p>
          </div>
          <button 
            onClick={(e) => props.onAddToCart && props.onAddToCart(e)}
            className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
          >
            Add
          </button>
        </div>
      )}
    </ProductCard>
  );
}
```

## Custom Rendering with Component Overrides

The ProductCard component supports `componentOverrides` to customize specific sections while maintaining the overall structure. This is useful when you need to modify just one part of the card without completely replacing the entire component.

### Custom Price Section

<Canvas of={ProductCardStories.CustomPriceSection} />

```tsx
import ProductCard from '@/components/product-card';

const priceOverride = {
  reactNode: (props) => (
    <div className='bg-green-100 p-2 rounded border-l-4 border-green-500'>
      <span className='text-green-800 font-bold text-lg'>
        Special: {props.itemPriceCurrency}{props.itemPrice}
      </span>
    </div>
  ),
};

function CustomPriceSectionExample() {
  return (
    <ProductCard
      itemId="custom-price-chair"
      itemVariationId="custom-price-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="599"
      itemPriceCurrency="$"
      itemRating={4.8}
      itemReviewsCount={156}
      itemDescription="A comfortable and stylish chair perfect for any modern home"
      onAddToCart={(e) => console.log('Added to cart', e)}
      componentOverrides={{
        price: priceOverride,
      }}
    />
  );
}
```

### Custom Title Section

<Canvas of={ProductCardStories.CustomTitleSection} />

```tsx
import ProductCard from '@/components/product-card';

const titleOverride = {
  reactNode: (props) => (
    <h3 className='text-xl font-bold text-purple-600 underline'>
      {props.itemName}
    </h3>
  ),
};

function CustomTitleSectionExample() {
  return (
    <ProductCard
      itemId="custom-title-chair"
      itemVariationId="custom-title-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="449"
      itemPriceCurrency="$"
      itemRating={4.5}
      itemReviewsCount={89}
      itemDescription="A comfortable and stylish chair perfect for any modern home"
      onAddToCart={(e) => console.log('Added to cart', e)}
      componentOverrides={{
        title: titleOverride,
      }}
    />
  );
}
```

### Custom Add to Cart Button

<Canvas of={ProductCardStories.CustomAddToCartButton} />

```tsx
import ProductCard from '@/components/product-card';

const addToCartButtonOverride = {
  reactNode: (props) => (
    <button
      className='w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 px-4 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all cursor-pointer'
      onClick={(e) => props.onAddToCart && props.onAddToCart(e)}
    >
      üõí Buy Now!
    </button>
  ),
};

function CustomAddToCartButtonExample() {
  return (
    <ProductCard
      itemId="custom-button-chair"
      itemVariationId="custom-button-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="399"
      itemPriceCurrency="$"
      itemRating={4.3}
      itemReviewsCount={67}
      itemDescription="A comfortable and stylish chair perfect for any modern home"
      onAddToCart={(e) => console.log('Added to cart', e)}
      componentOverrides={{
        addToCartButton: addToCartButtonOverride,
      }}
    />
  );
}
```

### Custom Wishlist Button

<Canvas of={ProductCardStories.CustomWishlistButton} />

```tsx
import ProductCard from '@/components/product-card';

const wishlistButtonOverride = {
  reactNode: (props) => (
    <button
      className='absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors cursor-pointer'
      onClick={props.onAddToWishlist}
    >
      üíñ
    </button>
  ),
};

function CustomWishlistButtonExample() {
  return (
    <ProductCard
      itemId="custom-wishlist-chair"
      itemVariationId="custom-wishlist-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="529"
      itemPriceCurrency="$"
      itemRating={4.7}
      itemReviewsCount={123}
      itemDescription="A comfortable and stylish chair perfect for any modern home"
      onAddToCart={(e) => console.log('Added to cart', e)}
      onAddToWishlist={(e) => console.log('Added to wishlist', e)}
      componentOverrides={{
        wishlistButton: wishlistButtonOverride,
      }}
    />
  );
}
```

### Multiple Component Overrides

You can combine multiple component overrides in a single ProductCard:

<Canvas of={ProductCardStories.MultipleCustomizations} />

```tsx
import ProductCard from '@/components/product-card';

function MultipleOverridesExample() {
  return (
    <ProductCard
      itemId="multiple-custom-chair"
      itemVariationId="multiple-custom-chair-variation"
      itemName="Norman's Chair"
      itemImageUrl="https://example.com/chair.jpg"
      itemPrice="799"
      itemPriceCurrency="$"
      itemRating={4.9}
      itemReviewsCount={234}
      onAddToCart={(e) => console.log('Added to cart', e)}
      onAddToWishlist={(e) => console.log('Added to wishlist', e)}
      componentOverrides={{
        price: priceOverride,
        title: titleOverride,
        addToCartButton: addToCartButtonOverride,
        wishlistButton: wishlistButtonOverride,
      }}
    />
  );
}
```

## Mixed Customization Patterns

The ProductCard component exports its inner components, allowing you to create completely custom layouts by reordering and composing the individual sections using Compound Components, children render props, or component overrides.

### Compound Components with Component Overrides 

<Canvas of={ProductCardStories.CompoundComponentsWithComponentOverrides} />

```tsx
import ProductCard from '@/components/product-card';

function CompoundComponentsWithComponentOverridesExample() {
  return (
    <ProductCard
      itemId='component-overrides-compound-chair'
      itemName="Norman's Chair"
      itemImageUrl='https://example.com/chair.jpg'
      itemPrice='899'
      itemSalePrice='699'
      itemPriceCurrency='$'
      itemRating={4.9}
      itemReviewsCount={342}
      itemDescription='A comfortable and stylish chair perfect for any modern home'
      onAddToCart={(e) => console.log('Added to cart', e)}
    >
      <div className='bg-white rounded-lg shadow-md overflow-hidden max-w-xs'>
        <ProductCard.ImageSection />
        <div className='p-4 space-y-3'>
          <ProductCard.TitleSection />
          <ProductCard.DescriptionSection />

          {/* Using compound component with custom component overrides */}
          <ProductCard.PriceSection
            componentOverrides={{
              reactNode: (renderProps) => (
                <div className='bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-lg p-4'>
                  <div className='flex items-center justify-between'>
                    <div className='flex flex-col'>
                      <span className='text-xs text-emerald-600 font-medium uppercase tracking-wide'>
                        Special Offer
                      </span>
                      <div className='flex items-baseline gap-2 mt-1'>
                        <span className='text-2xl font-bold text-emerald-800'>
                          {renderProps.itemPriceCurrency}
                          {renderProps.itemSalePrice || renderProps.itemPrice}
                        </span>
                        {renderProps.itemSalePrice && (
                          <span className='text-sm text-gray-500 line-through'>
                            {renderProps.itemPriceCurrency}
                            {renderProps.itemPrice}
                          </span>
                        )}
                      </div>
                      {renderProps.itemSalePrice && (
                        <span className='text-xs text-emerald-600 font-medium mt-1'>
                          Save {renderProps.itemPriceCurrency}
                          {Number(renderProps.itemPrice) - Number(renderProps.itemSalePrice)}
                        </span>
                      )}
                    </div>
                    <div className='bg-emerald-100 text-emerald-800 px-3 py-1 rounded-full text-xs font-bold'>
                      {renderProps.itemSalePrice
                        ? `${Math.round(
                            ((Number(renderProps.itemPrice) - Number(renderProps.itemSalePrice)) /
                              Number(renderProps.itemPrice)) *
                              100,
                          )}% OFF`
                        : 'Best Price'}
                    </div>
                  </div>
                </div>
              ),
            }}
          />

          <ProductCard.RatingSection />
          <ProductCard.AddToCartButton />
        </div>
      </div>
    </ProductCard>
  );
}
```

### Compound Components with Render Props

<Canvas of={ProductCardStories.CompoundWithRenderProps} />

```tsx
import ProductCard from '@/components/product-card';

function CompoundWithRenderPropsExample() {
  return (
    <ProductCard
      itemId='compound-render-props-chair'
      itemVariationId='compound-render-props-chair-variation'
      itemName="Norman's Chair"
      itemImageUrl='https://example.com/chair.jpg'
      itemPrice='899'
      itemSalePrice='699'
      itemPriceCurrency='$'
      itemRating={4.9}
      itemReviewsCount={456}
      itemDescription='A comfortable and stylish chair perfect for any modern home'
      itemTags={['Premium', 'Custom Layout']}
      onAddToCart={(e) => console.log('Added to cart', e)}
      onAddToWishlist={(e) => console.log('Added to wishlist', e)}
    >
      {/* Image section with compound components */}
      <ProductCard.ImageSection>
        <ProductCard.WishlistButton />
      </ProductCard.ImageSection>

      {/* Content section with pure render props - all children are inside a render prop function */}
      <ProductCard.Content>
        {(renderProps) => (
          <>
            <div className='flex items-baseline gap-2'>
              <span className='text-lg font-bold'>
                {renderProps.itemPriceCurrency}&nbsp;
                {renderProps.itemSalePrice || renderProps.itemPrice}
              </span>
              {renderProps.itemSalePrice && (
                <span className='text-sm text-gray-400 line-through'>
                  {renderProps.itemPriceCurrency}&nbsp;
                  {renderProps.itemPrice}
                </span>
              )}
            </div>

            <p className='text-base font-medium'>{renderProps.itemName}</p>

            <div className='bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-3 my-2'>
              <div className='flex items-center gap-2 mb-2'>
                <span className='text-blue-600 font-semibold text-sm'>üéØ Smart Recommendation</span>
              </div>
              <p className='text-gray-700 text-sm'>
                Based on your preferences, this {renderProps.itemName} is perfect for you!
                {renderProps.itemSalePrice && (
                  <span className='text-green-600 font-medium'>
                    {' '}
                    Save ${Number(renderProps.itemPrice) - Number(renderProps.itemSalePrice)} today!
                  </span>
                )}
              </p>
              <div className='flex items-center gap-2 mt-2'>
                <span className='bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full'>
                  ‚≠ê {renderProps.itemRating} rating
                </span>
                <span className='bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full'>
                  üí¨ {renderProps.itemReviewsCount} reviews
                </span>
              </div>
            </div>

            {renderProps.itemDescription && (
              <p className='text-sm text-gray-500'>{renderProps.itemDescription}</p>
            )}
          </>
        )}
      </ProductCard.Content>

      {/* Footer section with pure render props - all children are inside a render prop function */}
      <ProductCard.Footer>
        {(renderProps) => (
          <div className='space-y-2'>
            <div className='flex gap-2 text-xs text-gray-600'>
              <span className='flex items-center gap-1'>üöö Free shipping on orders over $500</span>
            </div>

            {renderProps.onAddToCart && (
              <button
                className='w-full bg-black hover:bg-gray-800 text-white text-sm py-2 px-4 rounded-lg font-medium transition-colors'
                onClick={(e) => renderProps.onAddToCart && renderProps.onAddToCart(e)}>
                {renderProps.addToCartText || 'Add to Cart'}
              </button>
            )}

            <button
              className='w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg text-sm font-medium transition-colors'
              onClick={() => console.log(`Quick view for ${renderProps.itemName}`)}>
              üëÅÔ∏è Quick View
            </button>

            {renderProps.itemTags && renderProps.itemTags.length > 0 && (
              <div className='flex flex-col gap-1 items-center'>
                {renderProps.itemTags.map((tag) => (
                  <span key={tag} className='text-xs text-gray-500'>
                    {tag}
                  </span>
                ))}
              </div>
            )}
          </div>
        )}
      </ProductCard.Footer>
    </ProductCard>
  );
}
```

## Best Practices

### Choosing the Right Pattern

```tsx
// ‚úÖ Use compound components for custom layouts
<ProductCard {...props}>
  <ProductCard.ImageSection>
    <ProductCard.WishlistButton />
  </ProductCard.ImageSection>
  <ProductCard.Content>
    <ProductCard.PriceSection />
    <ProductCard.TitleSection />
  </ProductCard.Content>
</ProductCard>

// ‚úÖ Use default layout for standard cards
<ProductCard {...props} />

// ‚úÖ Use render props for complex custom logic
<ProductCard {...props}>
  {(renderProps) => <CompletelyCustomCard {...renderProps} />}
</ProductCard>

// ‚úÖ Use component overrides for minor customizations
<ProductCard
  {...props}
  componentOverrides={{
    price: { reactNode: (props) => <CustomPrice {...props} /> }
  }}
/>
```

### Performance Optimization

```tsx
import ProductCard from '@/components/product-card';
import { memo, useCallback } from 'react';

const OptimizedProductCard = memo(ProductCard);

function OptimizedExample({ product }) {
  const handleAddToCart = useCallback(() => {
    // Cart logic here
  }, []);

  const handleWishlistToggle = useCallback(() => {
    // Wishlist logic here
  }, []);

  return (
    <OptimizedProductCard
      {...product}
      onAddToCart={handleAddToCart}
      onAddToWishlist={handleWishlistToggle}
    />
  );
}
```

### Compound Component Best Practices

```tsx
// ‚úÖ Good: Use semantic structure
<ProductCard {...props}>
  <ProductCard.ImageSection>
    <ProductCard.WishlistButton />
  </ProductCard.ImageSection>
  <ProductCard.Content>
    <ProductCard.PriceSection />
    <ProductCard.TitleSection />
    <ProductCard.DescriptionSection />
  </ProductCard.Content>
  <ProductCard.Footer>
    <ProductCard.AddToCartButton />
  </ProductCard.Footer>
</ProductCard>

// ‚ùå Avoid: Using compound components outside ProductCard context
<div>
  <ProductCard.PriceSection /> {/* This will throw an error */}
</div>

// ‚úÖ Good: Conditional rendering with compound components
<ProductCard {...props}>
  <ProductCard.ImageSection>
    <ProductCard.WishlistButton />
  </ProductCard.ImageSection>
  <ProductCard.Content>
    <ProductCard.PriceSection />
    <ProductCard.TitleSection />
    {product.itemDescription && <ProductCard.DescriptionSection />}
    {product.itemRating && <ProductCard.RatingSection />}
  </ProductCard.Content>
</ProductCard>
```

### Error Handling

```tsx
import ProductCard from '@/components/product-card';

function ErrorHandlingExample({ product }) {
  const handleAddToCart = async () => {
    try {
      await addToCartAPI(product.itemId);
      console.log('Successfully added to cart');
    } catch (error) {
      console.error('Failed to add to cart:', error);
      // Show error message to user
    }
  };

  return (
    <ProductCard
      {...product}
      onAddToCart={handleAddToCart}
      itemImageUrl={product.itemImageUrl || '/placeholder-image.jpg'}
    />
  );
}
```
